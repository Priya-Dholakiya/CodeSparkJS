<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Cute Pastel Calculator</title>
</head>

<body
      style="margin:0; height:100vh; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg,#ffe6f0,#e6f7ff,#f9f9e6); font-family:'Poppins',sans-serif;">

      <div
            style="background:#fff; padding:25px; border-radius:25px; box-shadow:0 8px 25px rgba(0,0,0,0.15); text-align:center;">
            <input id="result" placeholder="0" readonly
                  style="width:230px; height:55px; font-size:24px; text-align:right; border:none; outline:none; background:linear-gradient(to right, #f7f7f7, #ffffff); border-radius:12px; padding:0 12px; margin-bottom:18px; box-shadow: inset 2px 2px 8px #ccc, inset -2px -2px 8px #fff; transition:0.2s;">

            <div style="display:grid; grid-template-columns:repeat(4,60px); gap:12px;">
                  <button>%</button><button>CE</button><button>←</button><button>/</button>
                  <button>7</button><button>8</button><button>9</button><button>*</button>
                  <button>4</button><button>5</button><button>6</button><button>+</button>
                  <button>1</button><button>2</button><button>3</button><button>-</button>
                  <button>+/-</button><button>0</button><button>.</button><button>=</button>
            </div>
      </div>

      <script>
            const result = document.querySelector( '#result' );
            const buttons = document.querySelectorAll( 'button' );

            buttons.forEach( btn => {
                  // pastel button colors
                  const colors = {
                        '%': '#ffd6e6', 'CE': '#d6f0ff', '←': '#fff0e6', '/': '#d6ffe6', '*': '#d6ffe6',
                        '+': '#d6ffe6', '-': '#d6ffe6', '=': '#d6f5e6', '+/-': '#fff0e6'
                  };
                  btn.style.cssText = `background:${ colors[ btn.innerText ] || '#f7f7f7' }; border:none; padding:14px; border-radius:18px; font-size:18px; cursor:pointer; transition:0.2s; box-shadow:2px 4px 10px rgba(0,0,0,0.2); color:#333;`;

                  // hover & click effects
                  btn.onmouseover = () => btn.style.transform = 'scale(1.15)';
                  btn.onmouseout = () => btn.style.transform = 'scale(1)';
                  btn.onmousedown = () => btn.style.transform = 'scale(0.95)';
                  btn.onmouseup = () => btn.style.transform = 'scale(1)';

                  // button click logic
                  btn.addEventListener( 'click', () => {
                        const val = btn.innerText;
                        let curr = result.value;
                        let last = curr[ curr.length - 1 ];

                        if ( val === 'CE' ) result.value = '';
                        else if ( val === '←' ) result.value = curr.slice( 0, -1 );
                        else if ( val === '=' ) {
                              try {
                                    result.value = eval( curr ); // direct eval, simple logic
                              } catch {
                                    result.value = 'Error';
                              }
                        }
                        else if ( val === '+/-' ) {
                              // last number toggle
                              let numberMatch = curr.match( /\d+(\.\d+)?$/ );
                              if ( numberMatch ) {
                                    let num = numberMatch[ 0 ];
                                    let start = curr.lastIndexOf( num );
                                    let before = curr.slice( 0, start );
                                    if ( num.startsWith( '(-' ) ) result.value = before + num.slice( 2, -1 ); // remove negative
                                    else result.value = before + '(-' + num + ')'; // make negative
                              }
                        }
                        else if ( [ '+', '-', '*', '/', '%' ].includes( val ) ) {
                              if ( curr === '' ) return; // cannot start with operator
                              if ( [ '+', '-', '*', '/', '%' ].includes( last ) ) return; // prevent double operator
                              result.value += val;
                        }
                        else result.value += val; // numbers and dot

                        // keep cursor at end
                        result.focus();
                        result.setSelectionRange( result.value.length, result.value.length );
                  } );
            } );
      </script>

</body>
</html>